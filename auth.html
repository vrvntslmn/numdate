<!doctype html>
<html lang="mn">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>NUMdate — Нэвтрэх / Бүртгүүлэх (NUM)</title>
    <style>
        :root {
            --bg: #faf8f9;
            --card: #ffffff;
            --accent: #EE0067;
            --accent-2: #BC2265;
            --muted: #8b8f95;
            --danger: #E03A3A;
            --success: #27AE60;
            --radius: 14px;
            font-family: Inter, "Roboto Condensed", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%;
            margin: 0;
            background: linear-gradient(180deg, #fff 0, #fbf5f7 100%);
        }

        .wrap {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 32px;
        }

        .card {
            width: 360px;
            border-radius: var(--radius);
            background: var(--card);
            box-shadow: 0 10px 30px rgba(16, 24, 40, 0.08);
            overflow: hidden;
            text-align: center;
            padding: 22px;
        }

        .logo {
            font-weight: 700;
            font-family: "Yanone Kaffeesatz", system-ui, sans-serif;
            letter-spacing: 1px;
            color: var(--accent-2);
            font-size: 28px;
            margin-bottom: 12px;
        }

        p.lead {
            margin: 0 0 18px 0;
            color: var(--muted);
            font-size: 14px
        }

        .tabs {
            display: flex;
            gap: 6px;
            justify-content: center;
            margin-bottom: 12px;
        }

        .tab {
            flex: 1;
            padding: 8px 10px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            color: #333;
            background: transparent;
            border: 1px solid transparent;
            transition: all .12s;
            font-size: 14px;
        }

        .tab.active {
            background: linear-gradient(90deg, var(--accent), var(--accent-2));
            color: white;
            box-shadow: 0 8px 24px rgba(236, 0, 103, 0.12);
        }

        form {
            margin-top: 6px;
            text-align: left;
        }

        label {
            display: block;
            font-size: 13px;
            color: #222;
            margin-bottom: 6px;
            font-weight: 600
        }

        .field {
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid #eee;
            padding: 10px 12px;
            border-radius: 10px;
            background: #fff;
            margin-bottom: 12px;
        }

        .field input {
            border: 0;
            outline: none;
            font-size: 15px;
            width: 100%;
            background: transparent
        }

        .hint {
            font-size: 13px;
            color: var(--muted);
            margin-top: 6px;
            text-align: left
        }

        .err {
            color: var(--danger);
            font-size: 13px;
            margin-top: 6px;
            text-align: left
        }

        .ok {
            color: var(--success);
            font-size: 13px;
            margin-top: 6px;
            text-align: left
        }

        .actions {
            display: flex;
            gap: 8px;
            align-items: center;
            margin-top: 12px;
        }

        .btn {
            flex: 1;
            background: linear-gradient(90deg, var(--accent), var(--accent-2));
            color: white;
            border: 0;
            padding: 10px 12px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            box-shadow: 0 10px 24px rgba(236, 0, 103, 0.12);
        }

        .btn.disabled {
            opacity: 0.45;
            cursor: default;
            box-shadow: none;
        }

        .btn.secondary {
            background: transparent;
            color: var(--accent-2);
            border: 1px solid rgba(188, 34, 101, 0.08);
            box-shadow: none;
            font-weight: 700
        }

        .pw-toggle {
            background: transparent;
            border: 0;
            color: var(--muted);
            cursor: pointer;
            font-weight: 600;
            font-size: 13px
        }

        @media (max-width:420px) {
            .card {
                width: 92vw;
                padding: 16px
            }
        }
    </style>
</head>

<body>
    <div class="wrap">
        <div class="card" role="region" aria-label="NUMdate authentication">
            <div class="logo">NUMdate</div>
            <p class="lead">NUM бүртгэлээр нэвтрэх (зөвхөн @stud.num.edu.mn)</p>

            <div class="tabs" role="tablist" aria-label="Login or Signup">
                <button id="tLogin" class="tab active" role="tab" aria-selected="true">Нэвтрэх</button>
                <button id="tSignup" class="tab" role="tab" aria-selected="false">Бүртгүүлэх</button>
            </div>

            <!-- LOGIN -->
            <section id="panelLogin" role="tabpanel" aria-hidden="false">
                <form id="formLogin" novalidate>
                    <label for="loginEmail">NUM имэйл</label>
                    <div class="field"><input id="loginEmail" type="email" placeholder="name@stud.num.edu.mn"
                            autocomplete="username"></div>
                    <div id="loginEmailErr" class="err" style="display:none"></div>

                    <label for="loginPw">Нууц үг</label>
                    <div class="field">
                        <input id="loginPw" type="password" placeholder="••••••••" autocomplete="current-password">
                        <button type="button" class="pw-toggle" id="loginPwToggle">Show</button>
                    </div>
                    <div id="loginPwErr" class="err" style="display:none"></div>

                    <div class="actions">
                        <button type="submit" id="loginBtn" class="btn disabled" aria-disabled="true">Болсон</button>
                        <button type="button" id="loginMs" class="btn secondary">Microsoft</button>
                    </div>
                </form>
            </section>

            <!-- SIGNUP (OVOG, NER, PASSWORD + CONFIRM) -->
            <section id="panelSignup" role="tabpanel" aria-hidden="true" style="display:none;">
                <form id="formSignup" novalidate>
                    <label for="signupOvog">Овог</label>
                    <div class="field"><input id="signupOvog" type="text" placeholder="Жишээ: Бат"
                            autocomplete="family-name"></div>
                    <div id="signupOvogErr" class="err" style="display:none"></div>

                    <label for="signupNer">Нэр</label>
                    <div class="field"><input id="signupNer" type="text" placeholder="Жишээ: Анударь"
                            autocomplete="given-name"></div>
                    <div id="signupNerErr" class="err" style="display:none"></div>

                    <label for="signupEmail">NUM имэйл</label>
                    <div class="field"><input id="signupEmail" type="email" placeholder="name@stud.num.edu.mn"
                            autocomplete="email"></div>
                    <div id="signupEmailErr" class="err" style="display:none"></div>

                    <label for="signupPw">Нууц үг (≥8)</label>
                    <div class="field">
                        <input id="signupPw" type="password" placeholder="••••••••" autocomplete="new-password">
                        <button type="button" class="pw-toggle" id="signupPwToggle">Show</button>
                    </div>
                    <div id="signupPwErr" class="err" style="display:none"></div>

                    <label for="signupPwConfirm">Нууц үг давтах</label>
                    <div class="field">
                        <input id="signupPwConfirm" type="password" placeholder="••••••••" autocomplete="new-password">
                        <button type="button" class="pw-toggle" id="signupPwConfirmToggle">Show</button>
                    </div>
                    <div id="signupPwMatchMsg" class="err" style="display:none"></div>

                    <div class="actions">
                        <button type="submit" id="signupBtn" class="btn disabled"
                            aria-disabled="true">Бүртгүүлэх</button>
                        <button type="button" id="signupMs" class="btn secondary">Microsoft</button>
                    </div>
                </form>
            </section>
        </div>
    </div>

    <script>
        // Tabs
        const tLogin = document.getElementById('tLogin'), tSignup = document.getElementById('tSignup');
        const panelLogin = document.getElementById('panelLogin'), panelSignup = document.getElementById('panelSignup');
        tLogin.addEventListener('click', () => setTab('login')); tSignup.addEventListener('click', () => setTab('signup'));
        function setTab(tab) {
            if (tab === 'login') {
                tLogin.classList.add('active'); tSignup.classList.remove('active');
                panelLogin.style.display = 'block'; panelSignup.style.display = 'none';
                panelLogin.setAttribute('aria-hidden', 'false'); panelSignup.setAttribute('aria-hidden', 'true');
            } else {
                tLogin.classList.remove('active'); tSignup.classList.add('active');
                panelLogin.style.display = 'none'; panelSignup.style.display = 'block';
                panelLogin.setAttribute('aria-hidden', 'true'); panelSignup.setAttribute('aria-hidden', 'false');
            }
            clearErrors();
        }

        // Helpers
        const REQUIRED_DOMAIN = '@stud.num.edu.mn';
        function isNumEmail(v) { return !!v && v.toLowerCase().endsWith(REQUIRED_DOMAIN); }
        function setButtonEnabled(btn, enabled) { if (enabled) { btn.classList.remove('disabled'); btn.removeAttribute('aria-disabled'); } else { btn.classList.add('disabled'); btn.setAttribute('aria-disabled', 'true'); } }
        function clearErrors() { ['loginEmailErr', 'loginPwErr', 'signupOvogErr', 'signupNerErr', 'signupEmailErr', 'signupPwErr', 'signupPwMatchMsg'].forEach(id => { const el = document.getElementById(id); if (el) { el.style.display = 'none'; el.textContent = ''; } }); }

        // Login
        const loginEmail = document.getElementById('loginEmail'), loginPw = document.getElementById('loginPw'), loginBtn = document.getElementById('loginBtn');
        function validateLoginInputs() { const email = loginEmail.value.trim(), pw = loginPw.value; setButtonEnabled(loginBtn, isNumEmail(email) && pw.length > 0); }
        loginEmail.addEventListener('input', () => { validateLoginInputs(); const err = document.getElementById('loginEmailErr'); if (loginEmail.value && !isNumEmail(loginEmail.value)) { err.style.display = 'block'; err.textContent = `Имэйл нь ${REQUIRED_DOMAIN} домайнтай байх ёстой.`; } else { err.style.display = 'none'; } });
        loginPw.addEventListener('input', validateLoginInputs);
        document.getElementById('loginPwToggle').addEventListener('click', () => { const t = loginPw; t.type = t.type === 'password' ? 'text' : 'password'; document.getElementById('loginPwToggle').textContent = t.type === 'password' ? 'Show' : 'Hide'; });
        document.getElementById('formLogin').addEventListener('submit', (e) => { e.preventDefault(); clearErrors(); if (!isNumEmail(loginEmail.value.trim())) { const err = document.getElementById('loginEmailErr'); err.style.display = 'block'; err.textContent = `Зөвхөн ${REQUIRED_DOMAIN} имэйлээр нэвтрэнэ үү.`; return; } if (!loginPw.value) { const err = document.getElementById('loginPwErr'); err.style.display = 'block'; err.textContent = 'Нууц үг оруулна уу.'; return; } alert('Нэвтрэх (демо): ' + loginEmail.value.trim()); });

        // Microsoft demo buttons
        document.getElementById('loginMs').addEventListener('click', () => alert('Microsoft нэвтрэх (демо)'));
        document.getElementById('signupMs').addEventListener('click', () => alert('Microsoft нэвтрэх (демо)'));

        // Signup (with password confirm)
        const signupOvog = document.getElementById('signupOvog'), signupNer = document.getElementById('signupNer');
        const signupEmail = document.getElementById('signupEmail'), signupPw = document.getElementById('signupPw'), signupPwConfirm = document.getElementById('signupPwConfirm'), signupBtn = document.getElementById('signupBtn');
        const signupPwMatchMsg = document.getElementById('signupPwMatchMsg');

        function passwordsMatch() { return signupPw.value === signupPwConfirm.value && signupPw.value.length >= 8; }

        function validateSignupInputs() {
            const ovog = signupOvog.value.trim(), ner = signupNer.value.trim(), email = signupEmail.value.trim(), pw = signupPw.value, pwc = signupPwConfirm.value;
            let ok = true;
            if (!ovog) ok = false;
            if (!ner) ok = false;
            if (!isNumEmail(email)) ok = false;
            if (!pw || pw.length < 8) ok = false;
            if (pw !== pwc) ok = false;
            setButtonEnabled(signupBtn, ok);
            // show match message live
            if (pw || pwc) {
                if (pw.length < 8) { signupPwMatchMsg.style.display = 'block'; signupPwMatchMsg.className = 'err'; signupPwMatchMsg.textContent = 'Нууц үг дор хаяж 8 тэмдэгт байх ёстой.'; }
                else if (pw !== pwc) { signupPwMatchMsg.style.display = 'block'; signupPwMatchMsg.className = 'err'; signupPwMatchMsg.textContent = 'Нууц үг таарахгүй байна.'; }
                else { signupPwMatchMsg.style.display = 'block'; signupPwMatchMsg.className = 'ok'; signupPwMatchMsg.textContent = 'Нууц үг таарч байна.'; }
            } else {
                signupPwMatchMsg.style.display = 'none'; signupPwMatchMsg.textContent = '';
            }
            return ok;
        }

        signupOvog.addEventListener('input', validateSignupInputs);
        signupNer.addEventListener('input', validateSignupInputs);
        signupEmail.addEventListener('input', () => { validateSignupInputs(); const err = document.getElementById('signupEmailErr'); if (signupEmail.value && !isNumEmail(signupEmail.value)) { err.style.display = 'block'; err.textContent = `И-мэйл нь ${REQUIRED_DOMAIN} домайнтай байх ёстой.`; } else { err.style.display = 'none'; } });
        signupPw.addEventListener('input', validateSignupInputs);
        signupPwConfirm.addEventListener('input', validateSignupInputs);

        document.getElementById('signupPwToggle').addEventListener('click', () => { const t = signupPw; t.type = t.type === 'password' ? 'text' : 'password'; document.getElementById('signupPwToggle').textContent = t.type === 'password' ? 'Show' : 'Hide'; });
        document.getElementById('signupPwConfirmToggle').addEventListener('click', () => { const t = signupPwConfirm; t.type = t.type === 'password' ? 'text' : 'password'; document.getElementById('signupPwConfirmToggle').textContent = t.type === 'password' ? 'Show' : 'Hide'; });

        document.getElementById('formSignup').addEventListener('submit', (e) => {
            e.preventDefault(); clearErrors();
            const ovog = signupOvog.value.trim(), ner = signupNer.value.trim(), email = signupEmail.value.trim(), pw = signupPw.value, pwc = signupPwConfirm.value;
            if (!ovog) { const el = document.getElementById('signupOvogErr'); el.style.display = 'block'; el.textContent = 'Овог оруулна уу.'; }
            if (!ner) { const el = document.getElementById('signupNerErr'); el.style.display = 'block'; el.textContent = 'Нэр оруулна уу.'; }
            if (!isNumEmail(email)) { const el = document.getElementById('signupEmailErr'); el.style.display = 'block'; el.textContent = `Зөвхөн ${REQUIRED_DOMAIN} имэйл ашиглана уу.`; }
            if (!pw || pw.length < 8) { const el = document.getElementById('signupPwErr'); el.style.display = 'block'; el.textContent = 'Нууц үг дор хаяж 8 тэмдэгт байх ёстой.'; }
            if (pw !== pwc) { const el = document.getElementById('signupPwMatchMsg'); el.style.display = 'block'; el.className = 'err'; el.textContent = 'Нууц үг таарахгүй байна.'; }
            if (!validateSignupInputs()) return;
            // TODO: POST to server (create account, verify email, etc.)
            alert('Бүртгэл амжилттай (демо): ' + email + '\nНэр: ' + ovog + ' ' + ner);
            setTab('login'); document.getElementById('loginEmail').value = email; validateLoginInputs();
        });

        // initial state
        setButtonEnabled(loginBtn, false);
        setButtonEnabled(signupBtn, false);

        // helper used earlier in login validation
        function validateLoginInputs() { const email = loginEmail.value.trim(), pw = loginPw.value; setButtonEnabled(loginBtn, isNumEmail(email) && pw.length > 0); }
        // keyboard submit
        document.addEventListener('keydown', (e) => { if (e.key === 'Enter') { if (panelLogin.style.display !== 'none' && !loginBtn.classList.contains('disabled')) document.getElementById('formLogin').dispatchEvent(new Event('submit', { cancelable: true })); if (panelSignup.style.display !== 'none' && !signupBtn.classList.contains('disabled')) document.getElementById('formSignup').dispatchEvent(new Event('submit', { cancelable: true })); } });
    </script>
</body>

</html>
